import{d as _,r as l,o as B,a as T,b as r,e as t,k as M,t as u,F as L,f as G,g as i,i as C,h as R}from"./index-9szTUs8h.js";const z={class:"terminal-header bg-[#161b22] h-9 px-3 flex items-center justify-between select-none border-b border-[#30363d]"},I={class:"text-gray-300 text-[11px] font-sans font-medium tracking-wide flex items-center gap-2 opacity-90"},N={class:"terminal-body p-3 bg-[#0d1117] text-[#c9d1d9] min-h-80 overflow-y-auto font-mono text-[13px] leading-tight"},V={key:0,class:"mt-2 mb-1"},F={class:"text-green-500 font-bold select-none"},O={class:"text-blue-400 font-bold select-none ml-2"},D={class:"text-gray-100 ml-2"},E={key:0,class:"inline-block w-1.5 h-4 bg-gray-400 ml-1 align-middle animate-pulse"},$=_({__name:"InteractiveTerminal",setup(H){const n=l(null),f=l(null),g=l("80x24"),y=[{type:"cmd",prompt:"$",path:"~/agi-lab",text:"pip install reality-check"},{type:"output",text:"Requirement already satisfied: reality-check in /usr/lib/python3.9/site-packages (0.0.1)",class:"text-gray-500"},{type:"cmd",prompt:"$",path:"~/agi-lab",text:"python3 train_superintelligence.py --gpu=0"},{type:"output",text:`[INFO] Loading "GPT-Omni-Max-Pro" (Parameters: 175 Trillion)
[INFO] Mapping weights to device cuda:0...`,class:"text-gray-400"},{type:"output",text:"Loading checkpoint: 10% |██▎                  | 40GB/???GB",class:"text-blue-400"},{type:"output",text:"Loading checkpoint: 25% |█████                | 120GB/???GB",class:"text-blue-400"},{type:"output",text:"Loading checkpoint: 40% |████████             | 350GB/???GB",class:"text-blue-400"},{type:"output",text:`
Traceback (most recent call last):
  File "train_superintelligence.py", line 42, in <module>
    model.to("cuda")
RuntimeError: CUDA out of memory. Tried to allocate 800.00 GiB (GPU 0; 8.00 GiB total capacity; 0 bytes free; nice try though)`,class:"text-red-400"}],p=l([]),d=l(0),o=l(0);let c;const m=()=>{var s;if(d.value>=y.length)return;const a=y[d.value];if(o.value===0&&p.value.push({...a,text:a.type==="cmd"?"":a.text}),a.type==="cmd"&&a.text)if(o.value<a.text.length){const e=p.value[d.value];e&&typeof e.text=="string"&&(e.text+=a.text[o.value]),o.value++,c=window.setTimeout(m,40+Math.random()*30)}else d.value++,o.value=0,c=window.setTimeout(m,300);else{d.value++,o.value=0;const e=(s=a.text)!=null&&s.includes("Loading")?600:100;c=window.setTimeout(m,e)}},h=()=>{if(!n.value||!f.value)return;const a=n.value.clientWidth,s=n.value.clientHeight-36,e=f.value.getBoundingClientRect(),v=e.width||8,b=e.height||18,w=Math.floor(a/v),k=Math.floor(s/b);g.value=`${w}x${k}`};let x=null;return B(()=>{c=window.setTimeout(m,500),n.value&&(x=new ResizeObserver(()=>h()),x.observe(n.value)),window.addEventListener("resize",h),h()}),T(()=>{clearTimeout(c),x&&x.disconnect(),window.removeEventListener("resize",h)}),(a,s)=>(i(),r("div",{ref_key:"terminalRef",ref:n,class:"terminal-window bg-[#0d1117] rounded-lg overflow-hidden shadow-2xl text-left font-mono text-xs sm:text-sm relative mx-auto w-full max-w-3xl border border-[#30363d]"},[t("div",z,[s[1]||(s[1]=t("div",{class:"flex gap-1.5 w-16"},[t("div",{class:"w-3 h-3 rounded-full bg-[#ff5f56] border border-[#e0443e]"}),t("div",{class:"w-3 h-3 rounded-full bg-[#ffbd2e] border border-[#d39e25]"}),t("div",{class:"w-3 h-3 rounded-full bg-[#27c93f] border border-[#1caf32]"})],-1)),t("div",I,[s[0]||(s[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),M(" user@dev-box: ~/agi-lab — "+u(g.value),1)]),s[2]||(s[2]=t("div",{class:"w-16"},null,-1))]),t("div",N,[t("span",{ref_key:"charMeasureRef",ref:f,class:"absolute opacity-0 pointer-events-none select-none -z-50"},"M",512),(i(!0),r(L,null,G(p.value,(e,v)=>(i(),r("div",{key:v,class:"wrap-break-word"},[e.type==="cmd"?(i(),r("div",V,[t("span",F,u(e.prompt),1),t("span",O,u(e.path),1),t("span",D,u(e.text),1),v===p.value.length-1?(i(),r("span",E)):C("",!0)])):(i(),r("div",{key:1,class:R(["whitespace-pre-wrap pl-1",e.class||"text-gray-400"])},u(e.text),3))]))),128))])],512))}});export{$ as default};
